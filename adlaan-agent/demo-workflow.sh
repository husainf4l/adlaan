#!/bin/bash

# Visual demonstration of how the agent processes a question

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  ğŸ¤– ADLAAN LEGAL AI AGENT - WORKFLOW DEMONSTRATION"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "User Question: 'I need a service agreement for my consulting business'"
echo ""
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo ""

sleep 1

echo "ğŸ“¥ STEP 1: Message Received"
echo "   â”œâ”€ Endpoint: POST /api/chat"
echo "   â”œâ”€ Thread ID: generated (e.g., uuid-1234)"
echo "   â””â”€ Message: 'I need a service agreement...'"
echo ""
sleep 1

echo "ğŸ§  STEP 2: THINKING NODE (Analysis Stage)"
echo "   â”œâ”€ Analyzing user intent..."
echo "   â”œâ”€ Task Type: DOCUMENT_CREATION âœ“"
echo "   â”œâ”€ Complexity: MEDIUM"
echo "   â”œâ”€ Document Type: service_agreement"
echo "   â”œâ”€ Key Requirements:"
echo "   â”‚  â€¢ Service agreement template"
echo "   â”‚  â€¢ Standard business terms"
echo "   â”‚  â€¢ Consulting-specific clauses"
echo "   â””â”€ Decision: skip_planning âš¡ (faster route)"
echo ""
sleep 1

echo "â­ï¸  STEP 3: PLANNING NODE"
echo "   â””â”€ SKIPPED (not needed for standard documents)"
echo ""
sleep 1

echo "âš¡ STEP 4: EXECUTION NODE (Generation Stage)"
echo "   â”œâ”€ Received thinking analysis"
echo "   â”œâ”€ System prompt loaded:"
echo "   â”‚  'Create service agreement automatically...'"
echo "   â”œâ”€ GPT-4 generating document..."
echo "   â””â”€ Streaming response token-by-token..."
echo ""
sleep 2

echo "ğŸ“¤ STEP 5: STREAMING TO USER"
echo ""
echo "   ğŸ’¬ Message chunk 1:"
echo "      'I've created a comprehensive service agreement for'"
echo "      'your consulting business...'"
echo ""
sleep 1

echo "   ğŸ“„ Document chunk:"
echo "      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "      â”‚   SERVICE AGREEMENT                     â”‚"
echo "      â”‚                                         â”‚"
echo "      â”‚   This Service Agreement (\"Agreement\")  â”‚"
echo "      â”‚   is entered into as of [Date]...      â”‚"
echo "      â”‚                                         â”‚"
echo "      â”‚   1. SERVICES                           â”‚"
echo "      â”‚      The Service Provider agrees to... â”‚"
echo "      â”‚                                         â”‚"
echo "      â”‚   2. COMPENSATION                       â”‚"
echo "      â”‚      Payment terms and schedule...     â”‚"
echo "      â”‚                                         â”‚"
echo "      â”‚   3. TERM AND TERMINATION              â”‚"
echo "      â”‚      This Agreement shall commence...  â”‚"
echo "      â”‚                                         â”‚"
echo "      â”‚   [... complete legal document ...]    â”‚"
echo "      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
sleep 1

echo "   ğŸ’¬ Message chunk 2:"
echo "      'To customize this agreement for your needs:'"
echo "      'â€¢ Add your specific service descriptions'"
echo "      'â€¢ Set your consulting rates'"
echo "      'â€¢ Adjust payment terms...'"
echo ""
sleep 1

echo "ğŸ’¾ STEP 6: BACKGROUND SAVE (Non-blocking)"
echo "   â”œâ”€ Saving to database asynchronously..."
echo "   â”œâ”€ User message: saved âœ“"
echo "   â”œâ”€ Assistant messages: saved âœ“"
echo "   â””â”€ Conversation history: updated âœ“"
echo ""
sleep 1

echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo ""
echo "âœ… COMPLETE! Response Time: ~3 seconds"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ¯ Key Features Demonstrated:"
echo ""
echo "   âœ“ Intelligent intent recognition"
echo "   âœ“ Automatic workflow routing (skipped planning)"
echo "   âœ“ Proactive document generation (no confirmation needed)"
echo "   âœ“ Real-time streaming response"
echo "   âœ“ Complete, ready-to-use document"
echo "   âœ“ Helpful customization guidance"
echo "   âœ“ Non-blocking database operations"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“Š Performance Metrics:"
echo "   â€¢ Stages executed: 3 out of 4 (Planning skipped)"
echo "   â€¢ Response time: ~3 seconds"
echo "   â€¢ Tokens streamed: ~500 tokens"
echo "   â€¢ User experience: Seamless and fast"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
