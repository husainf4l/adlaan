<!DOCTYPE html>
<html lang="{{ document.language|default:'en' }}" dir="{% if document.language == 'ar' %}rtl{% else %}ltr{% endif %}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ document.title }}</title>
    {% load static %}
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{% static 'pdf.css' %}">
    <style>
        /* Additional inline styles for dynamic content */
        @page {
            size: A4;
            margin: 2.5cm 2.5cm 2.5cm 2.5cm;
            @top-left {
                content: "Adlaan Legal System — Confidential Document";
                font-family: 'Times New Roman', serif;
                font-size: 9pt;
                color: #666;
            }
            @top-right {
                content: "Generated: {{ document.generated_at|date:'M j, Y' }}";
                font-family: 'Times New Roman', serif;
                font-size: 9pt;
                color: #666;
            }
            @bottom-center {
                content: "© 2025 Adlaan Technologies LLC — Page " counter(page) " of " counter(pages);
                font-family: 'Times New Roman', serif;
                font-size: 9pt;
                color: #666;
            }
        }
    </style>
</head>
<body>
    <!-- QR Code Section -->
    {% if document.qr_code %}
    <div class="qr-section">
        <img src="data:image/png;base64,{{ document.qr_code }}" alt="Document QR Code" class="qr-code">
    </div>
    {% endif %}

    <!-- Document Header -->
    <div class="header">
        <h1>{{ document.title }}</h1>
        {% if document.subtitle %}
        <div class="subtitle">{{ document.subtitle }}</div>
        {% endif %}
    </div>

    <!-- Document Information -->
    <div class="doc-info">
        <table>
            <tr>
                <td class="label">Document ID:</td>
                <td class="value">{{ document.doc_id|default:'N/A' }}</td>
            </tr>
            <tr>
                <td class="label">Date:</td>
                <td class="value">{{ document.date|date:'F j, Y' }}</td>
            </tr>
            <tr>
                <td class="label">Jurisdiction:</td>
                <td class="value">{{ document.jurisdiction|default:'Jordan' }}</td>
            </tr>
            <tr>
                <td class="label">Version:</td>
                <td class="value">{{ document.version|default:'1.0' }}</td>
            </tr>
            {% if document.language == 'ar' %}
            <tr>
                <td class="label">Language:</td>
                <td class="value">العربية (Arabic)</td>
            </tr>
            {% endif %}
        </table>
    </div>

    <!-- Parties Section -->
    {% if document.parties %}
    <div class="parties">
        <h2>Parties to this Agreement</h2>
        {% for party in document.parties %}
        <div class="party">
            <div class="party-label">Party {{ forloop.counter }}:</div>
            <div class="party-details">{{ party }}</div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Main Content -->
    {% block content %}{% endblock %}

    <!-- Footer Information -->
    <div class="footer-info">
        <p>This document was generated by Adlaan Legal Platform on {{ document.generated_at|date:'F j, Y \a\t g:i A' }}.</p>
        <p>For verification purposes, scan the QR code or contact Adlaan Technologies LLC.</p>
        <p>Document ID: {{ document.doc_id|default:'N/A' }}</p>
    </div>
</body>
</html>
